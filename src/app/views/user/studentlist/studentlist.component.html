<c-row ngPreserveWhitespaces>
    <c-col xs="12">
      <!-- <app-docs-callout href="components/table" name="Table"></app-docs-callout> -->
    </c-col>
    <c-col xs="12">

      <div class="search-element">

        <div class="searchby">
          <select aria-label="Default select example" cSelect (change)="changeSearchType($event,'searchby')" [(ngModel)]="searchType" >
            <option value="">Select Type</option>
            <option [value]="search.value" *ngFor="let search of searchByValue">{{search.name}}</option>
          </select>

          <div class="error">
            <p *ngIf="display_error">Select Type</p>
          </div>

        </div>

        <div class="searchval">
          <input cFormControl placeholder="Search" type="text" (input)="changeSearchType($event,'searchval')" [(ngModel)]="searchVal" *ngIf="searchType!='status'" />

          <select aria-label="Default select example" cSelect (change)="changeSearchType($event,'searchval')" *ngIf="searchType=='status'" [(ngModel)]="searchVal">
            <option value="">Select Status</option>
            <option [value]="data.value" *ngFor="let data of statusData">{{data.name}}</option>
          </select>

        </div>

        <div class="searchbutton">
          <button cButton class="me-1" (click)="getStudentList()">
            Search
          </button>
        </div>

      </div>

      <c-card class="mb-4">
        <c-card-header>
          <strong>App User List</strong>
          <a (click)="downloadData()" class="orange-btn"><i class="bi bi-download"></i>
            in Excel
          </a>
        </c-card-header>
        <c-card-body>
<!--
            <c-alert color="success" class="d-flex align-items-center" *ngIf="checkMessage()" fade [visible]="displayMessage!=''">
              <div>{{displayMessage}}</div>
            </c-alert>

            <c-alert color="danger" class="d-flex align-items-center" *ngIf="checkMessage()" fade [visible]="errorMessage!=''">
              <div>{{errorMessage}}</div>
            </c-alert> -->
            <div class="table_resposive_block">
              <table cTable>
                <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Phone</th>
                  <th scope="col">Email</th>
                  <th scope="col">Status</th>
                  <th scope="col">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let user of userList;let i = index;">
                  <th scope="row">{{((activePage-1)*recordsPerPage)+(i+1)}}</th>
                  <td>{{user?.name}}</td>
                  <td>{{user?.phone}}</td>
                  <td>{{user?.email}}</td>
                  <td><a (click)="changeStatus(user._id, i)">
                            <span *ngIf="user.status==false" class="text-inactive">Inactive</span>
                            <span *ngIf="user.status!=false" class="text-active">Active</span>
                      </a>
                  </td>
                  <td>
                    <a (click)="viewUser(user._id)" *ngIf="loginRights[1]?.access?.read || loginRights[0]?.access?.full" title="View"><i class="bi bi-eye"></i></a>
                    <!-- <a (click)="editUser(user._id,'student')"><i class="bi bi-pencil"></i></a> -->
                    <a (click)="deleteUser(user._id)" *ngIf="loginRights[1]?.access?.delete || loginRights[0]?.access?.full" title="Delete"><i class="bi bi-trash"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
        </c-card-body>
        <c-card-footer *ngIf="userList.length > 0">
          <app-pagination [totalRecords]="totalRecords" [recordsPerPage]="recordsPerPage" (onPageChange)="getStudentList($event)">
          </app-pagination>
        </c-card-footer>
      </c-card>
    </c-col>
</c-row>
